version: v1

# Konta configuration for the vps0 server
# Domain: example.com
# Services: Traefik (reverse proxy), Nginx (web), Whoami (test)

repository:
  # GitHub repository with infrastructure code
  url: https://github.com/yourname/infrastructure

  # Track the main branch
  branch: main

  # Deploy applications from vps0/apps folder
  path: vps0/apps

  # Check for updates every 2 minutes
  interval: 120

deploy:
  # Use atomic deployments (zero-downtime)
  atomic: true

  # Remove containers not in Git
  remove_orphans: true

hooks:
  # Pre-deployment checks
  pre: vps0/hooks/pre.sh

  # Post-deployment notification
  success: vps0/hooks/success.sh

  # Error handling
  failure: vps0/hooks/failure.sh

logging:
  # Log level: debug, info, warn, error
  level: info

  # Format: text (human-readable) or json
  format: text
